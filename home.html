<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Love Letter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f9e9eb;
            overflow-x: hidden;
        }

        .grid-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                linear-gradient(#f2cfd2 1px, transparent 1px),
                linear-gradient(90deg, #f2cfd2 1px, transparent 1px);
            background-size: 60px 60px;
            opacity: 0.15;
            z-index: 0;
        }

        /* Polaroid style */
        .polaroid {
            height: 120px;
            background: white;
            padding: 0.5rem 0.5rem 1.4rem;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgb(0 0 0 / 0.12);
            width: 120px;
            margin: 0 8px 16px;
            flex-shrink: 0;
            cursor: default;
            transition: transform 0.3s ease;
            user-select: none;
            position: relative;
        }

        .polaroid img {
            display: block;
            max-width: 100%;
            border-radius: 3px;
            object-fit: cover;
        }

        .polaroid::after {
            content: "";
            position: absolute;
            bottom: 11px;
            left: 0;
            right: 0;
            height: 8px;
            background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.1) 0%, transparent 80%);
            filter: blur(4px);
            z-index: -1;
        }

        /* Slight random rotation for visual effect */
        .rotate-1 {
            transform: rotate(3deg);
        }

        .rotate-2 {
            transform: rotate(-5deg);
        }

        .rotate-3 {
            transform: rotate(4deg);
        }

        .rotate-4 {
            transform: rotate(-3deg);
        }

        .rotate-5 {
            transform: rotate(5deg);
        }

        .rotate-6 {
            transform: rotate(-2deg);
        }

        .rotate-7 {
            transform: rotate(2deg);
        }

        .rotate-8 {
            transform: rotate(-4deg);
        }

        /* New animation keyframes */
        @keyframes fade-in-slide-down {
            from {
                opacity: 0;
                transform: translateY(-20px) rotate(var(--rotate-amount, 0deg));
            }
            to {
                opacity: 1;
                transform: translateY(0) rotate(var(--rotate-amount, 0deg));
            }
        }

        /* Style for elements to be animated */
        .polaroid.animate {
            animation: fade-in-slide-down 0.8s ease-out forwards;
            opacity: 0; /* Start with opacity 0 */
        }
        
        /* Scroll container for polaroids */
        .photo-scroll {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            max-width: auto;
            margin: 0 auto 2.5rem;
            z-index: 10;
            position: relative;
        }

        /* The letter paper style */
        .letter-paper {
            background: #f8ede8;
            max-width: 360px;
            margin: 1rem auto 2rem;
            padding: 2rem 1.8rem 2rem 1.6rem;
            box-shadow:
                2px 4px 10px rgb(0 0 0 / 0.08),
                inset 0 0 8px #efc7c4;
            border-radius: 18px;
            font-family: 'Segoe UI Italic', cursive, serif;
            font-style: italic;
            font-weight: 500;
            color: #7d3a42;
            line-height: 1.5;
            white-space: pre-line;
            text-align: center;
            position: relative;
            z-index: 10;
            user-select: none;
        }

        .letter-paper::before {
            content: "";
            position: absolute;
            top: 2px;
            bottom: 2px;
            left: 12px;
            right: 12px;
            border: 2px dashed #d8a7aa;
            border-radius: 12px;
            pointer-events: none;
        }

        /* Cover page for the second image */
        .cover-container {
            max-width: 420px;
            margin: 3rem auto;
            padding: 2rem 1rem 2rem 1rem;
            background: linear-gradient(135deg, #f6c2c5 0%, #f2a7a9 100%);
            border-radius: 25px;
            box-shadow: 2px 7px 15px rgb(242 93 97 / 0.3);
            user-select: none;
            position: relative;
            z-index: 10;
            text-align: center;
            color: #b4353d;
            font-family: 'Brush Script MT', cursive, 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 700;
            font-size: 3rem;
            line-height: 1.1;
        }

        /* Envelope style */
        .envelope {
            position: relative;
            max-width: 320px;
            margin: 2rem auto 1rem;
            height: 200px;
            background: #f8d2d3;
            border-radius: 26px;
            box-shadow:
                3px 15px 18px rgb(213 130 134 / 0.43),
                inset 0 6px 12px #f5cacc;
            cursor: default;
            user-select: none;
        }

        /* Envelope heart seal */
        .envelope-heart {
            position: absolute;
            top: 58px;
            left: 50%;
            transform: translateX(-50%);
            width: 48px;
            height: 40px;
            background: #d94144;
            clip-path: polygon(50% 0%, 100% 35%, 84% 100%, 50% 85%, 16% 100%, 0% 35%);
            box-shadow: 0 0 9px #c92d33;
            z-index: 25;
        }

        /* Envelope flap */
        .envelope::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 160px solid transparent;
            border-right: 160px solid transparent;
            border-bottom: 90px solid #f5c1c5;
            border-radius: 26px 26px 0 0;
            box-shadow: inset 0 8px 12px #f7c9cd;
            z-index: 15;
            transition: 0.3s ease;
        }

        /* Stamp on the envelope */
        .stamp {
            position: absolute;
            top: 28px;
            right: 15px;
            width: 45px;
            height: 45px;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 0 10px rgb(0 0 0 / 0.15);
            border: 2px solid #efb6b8;
            background-color: white;
            cursor: default;
            user-select: none;
        }

        .stamp img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Subtle small text */
        .small-text {
            color: #f1cede;
            font-weight: 700;
            font-size: 0.85rem;
            user-select: none;
            margin-top: 1rem;
        }

        /* Responsive scaling */
        @media (max-width: 480px) {
            .polaroid {
                width: 90px;
                margin: 0 6px 12px;
                padding-bottom: 1.1rem;
            }

            .letter-paper {
                max-width: 95vw;
                font-size: 0.87rem;
                padding: 1.5rem 1rem 1.5rem 1rem;
            }

            .cover-container {
                font-size: 2.1rem;
                max-width: 95vw;
                padding: 1.5rem 0.8rem;
            }

            .envelope {
                max-width: 280px;
                height: 170px;
            }

            .envelope::before {
                border-left: 140px solid transparent;
                border-right: 140px solid transparent;
                border-bottom: 80px solid #f5c1c5;
            }

            .envelope-heart {
                width: 40px;
                height: 34px;
                top: 47px;
            }

            .stamp {
                width: 38px;
                height: 38px;
                top: 22px;
                right: 12px;
            }
        }
    </style>
</head>

<body>
  <div class="grid-bg" aria-hidden="true"></div>

  <section aria-label="Love letter with polaroid photo collage" class="photo-scroll" style="margin-top: 3rem;">
    <div class="polaroid rotate-1" aria-hidden="true">
      <img src="public/1.jpeg" alt="Two people standing side by side at sunset on beach with warm orange sky">
    </div>
    <div class="polaroid rotate-4" aria-hidden="true">
      <img src="public/2.jpeg" alt="Couple smiling together outdoors wearing dark clothes">
    </div>
    <div class="polaroid rotate-2" aria-hidden="true">
      <img src="public/3.jpeg" alt="Couple holding hands walking on sandy shore on a cloudy day">
    </div>
    <div class="row" style="
    display: flex;
">
      <div class="polaroid rotate-3" aria-hidden="true" style="
    bottom: -35%;
">
        <img src="public/4.jpeg" alt="Couple facing each other by ocean under blue sky" style="
    width: 80% !important" >
      </div>

      <article class="letter-paper" aria-label="Love letter content">
        
        Em √†. C√≥ l·∫Ω em kh√¥ng bi·∫øt, nh∆∞ng m·ªói s·ªõm mai th·ª©c d·∫≠y, ƒëi·ªÅu ƒë·∫ßu ti√™n anh nghƒ© ƒë·∫øn lu√¥n l√† em. √Ånh m·∫Øt ·∫•y, n·ª•
        c∆∞·ªùi ·∫•y... t·∫•t c·∫£ c·ª© nh∆∞ m·ªôt ph·∫ßn h∆°i th·ªü c·ªßa anh, d·ªãu d√†ng m√† kh√¥ng th·ªÉ thi·∫øu. anh y√™u c√°ch em l·∫Øng nghe anh k·ªÉ
        nh·ªØng ƒëi·ªÅu nh·ªè nh·∫•t, y√™u c·∫£ s·ª± ki√™n nh·∫´n c·ªßa em. Nh·ªØng kho·∫£nh kh·∫Øc b√™n em, d√π ng·∫Øn ng·ªßi,
        c≈©ng ƒë·ªß khi·∫øn tr√°i tim em th·∫•y b√¨nh y√™n ƒë·∫øn l·∫°. Em nh∆∞ m·∫∑t tr·ªùi d·ªãu d√†ng c·ªßa ri√™ng anh, s∆∞·ªüi ·∫•m l√≤ng.
      Y√™u em üíóüíóüíó

      
      </article>

      <div class="polaroid rotate-5" aria-hidden="true" style="
    bottom: -40%;
">
        <img src="public/8.jpeg" alt="Couple embracing outdoors during golden hour" style="
    width: 80% !important">
      </div>
    </div>

    <div class="polaroid rotate-7" aria-hidden="true">
      <img src="public/6.jpeg" alt="Pregnant woman and partner pose happily in outdoor park">
    </div>
    <div class="polaroid rotate-6" aria-hidden="true">
      <img src="public/8.jpeg" alt="Couple looking relaxed sitting on green grass field under sunset sky" style="
    width: 80% !important">
    </div>
    <div class="polaroid rotate-8" aria-hidden="true">
      <img src="public/5.jpeg" alt="Couple underwater swimming in blue sea">
    </div>
  </section>

  <script>
    // <![CDATA[  <-- For SVG support
    if ('WebSocket' in window) {
      (function () {
        function refreshCSS() {
          var sheets = [].slice.call(document.getElementsByTagName("link"));
          var head = document.getElementsByTagName("head")[0];
          for (var i = 0; i < sheets.length; ++i) {
            var elem = sheets[i];
            var parent = elem.parentElement || head;
            parent.removeChild(elem);
            var rel = elem.rel;
            if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
              var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
              elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
            }
            parent.appendChild(elem);
          }
        }
        var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
        var address = protocol + window.location.host + window.location.pathname + '/ws';
        var socket = new WebSocket(address);
        socket.onmessage = function (msg) {
          if (msg.data == 'reload') window.location.reload();
          else if (msg.data == 'refreshcss') refreshCSS();
        };
        if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
          console.log('Live reload enabled.');
          sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
        }
      })();
    }
    else {
      console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
    }
    // ]]>
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const polaroids = document.querySelectorAll('.polaroid');
      let delay = 0;

      polaroids.forEach(polaroid => {
        // L·∫•y gi√° tr·ªã xoay (rotate) hi·ªán t·∫°i c·ªßa ·∫£nh t·ª´ class CSS
        const rotationClass = polaroid.className.split(' ').find(cls => cls.startsWith('rotate-'));
        let rotationValue = '0deg';
        if (rotationClass) {
          switch (rotationClass) {
            case 'rotate-1': rotationValue = '3deg'; break;
            case 'rotate-2': rotationValue = '-5deg'; break;
            case 'rotate-3': rotationValue = '4deg'; break;
            case 'rotate-4': rotationValue = '-3deg'; break;
            case 'rotate-5': rotationValue = '5deg'; break;
            case 'rotate-6': rotationValue = '-2deg'; break;
            case 'rotate-7': rotationValue = '2deg'; break;
            case 'rotate-8': rotationValue = '-4deg'; break;
          }
        }
        polaroid.style.setProperty('--rotate-amount', rotationValue);

        // √Åp d·ª•ng class "animate" sau m·ªôt kho·∫£ng th·ªùi gian tr·ªÖ
        setTimeout(() => {
          polaroid.classList.add('animate');
        }, delay);

        delay += 200; // TƒÉng th·ªùi gian tr·ªÖ ƒë·ªÉ ·∫£nh ti·∫øp theo xu·∫•t hi·ªán
      });
    });
  </script>
</body>
</html>